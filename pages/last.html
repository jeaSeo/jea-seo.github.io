<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>작전명: 띵작을 찾아서</title>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="../js/chartjs/chart.js"></script>
    <script src="../js/danfo0.1.1/index.min.js"></script>
    <link rel="stylesheet" href="../styles/styles.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script>
        $(document).ready(function(){
            $('.slider').slick({
                'infinite': false
            }).on('swipe', function(event, slick, direction){
                
            });
        });
    </script>
</head>
<body>
    <div id="wrap">
        <div class="last_wrap">
            <div class="title">wkrrk</div>
            <p>
                작가님의 작품에 가장 많은 댓글을 남긴 독자의 id는 <em id="bigfan" class="hlight"></em> 입니다. <br />
                뿐만 아니라 <em id="fancount" class="hlight"></em> 명의 독자들이 작가님을 기다리고 있어요!<br />
                <blockquote id="myeong" class="myeong f4"></blockquote>
                웹툰 플랫폼에서 작가님의 작품을 뵙는 그 날까지 응원하겠습니다! <br />
            </p>
            <div class="from">- 웹툰 발굴단 일동 -</div>

            <a href="../index.html" class="goback">처음으로 돌아가기</a>
        </div>
    </div>
    <script>
        let lastData, readfile
        if(localStorage.getItem('id')){
            lastData = localStorage.getItem('id')
            readfile = (Number(lastData)>591250) ? 'result2.csv' : 
            (Number(lastData)>714582) ? 'result3.csv' : 'result1.csv'
        }
        let gbId, gbLabel
        let ar, armax, armin, aridIndex, artitle, bigfan,fancount
        const myeong = [
            '"누구나 자기만의 거울을 들고 살아야 해요. 사람이 자신의 얼굴을 스스로 바라보면서 거짓말을 하진 못하거든요. 늘 자신을 비춰보고 다잡는 마음으로 살아가는 것이 중요해요" <br />- 윤태호 작가님 <미생>, <이끼>, <내부자들>, <인천상륙작전> 등',
            '"자기 욕망이 너무 폭발적이고 커서 세상이 어떻든지 창작을 해야 살 수 있어요. 세상이 좋아지건 나빠지건 작가인 거죠. 그걸 견딜 수 있는 사람, 그 태도까지를 재능으로 봐요. 창작자들의 복지나 이런 건 별개에요. 이해타산적인 지점이 아니라 욕망의 크기를 봐야죠. 욕망이 분명한 사람만 구체화하기 위해 나아갈 수 있어요. 그걸 기꺼이 감수할 사람인가까지가 재능이에요." <br />- 윤태호 작가님 <미생>, <이끼>, <내부자들>, <인천상륙작전> 등',
            '"어떤 일을 맹렬하게 연습하다 보면 내 길이 아니란 걸 빨리 알 수 있어요. 그 때 후회없이 다른 길을 가면 되는거에요. 열심히 해봤으니 미련이 없죠. 근데 주변주에서 어슬렁거리는 사람은 미련이 남아 갔다가 돌아오고, 갔다가 돌아와요. 계속 주변인만 되는 거죠. 그게 진짜 인생낭비에요. 일을 하겠다고 마음을 먹었다면 뜨겁게 하세요." <br />- 윤태호 작가님 <미생>, <이끼>, <내부자들>, <인천상륙작전> 등',
            '"기초 없이 이룬 성취는 단계를 오르는 것이 아니라 성취 후 다시 바닥으로 돌아오게 된다." <br />- 윤태호 작가님 <미생>, <이끼>, <내부자들>, <인천상륙작전> 등',
            '"우리가 할 수 있는 노력은 과정이 전부야! 결과는 우리 손 안에 있지 않아!" <br />- 윤태호 작가님 <미생>, <이끼>, <내부자들>, <인천상륙작전> 등',
            '"흔들리는 건 당신의 눈이다. 활시위를 당기는 손이다. 명중할 수 있을까 의심하는 마음이다. 과녁은 늘 그 자리에 있다."',
            '"어떤 것이 당신이 계획대로 되지 않는 다고 해서 그것이 불필요한 것은 아니다." <br />- 토마스 A. 에디슨',
            '"개선이란 무언가가 좋지 않다고 느낄 수 있는 사람들에 의해서만 만들어질 수 있다." <br />- 프레드리히 니체',
            '"우리가 할 수 있는 최선을 다할 때, 우리 혹은 타인의 삶에 어떤 기적이 나타나는지 아무도 모른다." <br />- 헬렌 켈러',
            '"미래를 결정짓고 싶다면 과거를 공부하라." <br />- 공자',
            '"춤추는 별을 잉태하려면 반드시 스스로의 내면에 혼돈을 지녀야 한다." <br />- 프레드리히 니체'
        ]
        const popMyeong = () => {
            let num = Math.floor(Math.random()*(11-1) + 1)
            let myeonTarget = document.getElementById('myeong')
            let my = myeong.at(num)
            myeonTarget.innerHTML = my
            console.log(num)
        }
        popMyeong()

        const readCsv = (path) => {
            let arcnt = 0
            dfd.read_csv(path)
            .then(df => {
                eval('newdf'+' =df.groupby(["id"])')
                
                ar = df.values
                lastdataDf = newdf.get_groups([lastData]).values

                bigfan = lastdataDf.at(0).at(23)
                fancount = lastdataDf.at(0).at(22)
                console.log(fancount)
            }).then(function() {
                let bigfanTarget = document.getElementById('bigfan')
                let fancountTarget = document.getElementById('fancount')
                let fanb = bigfan
                let fanc = fancount
                bigfanTarget.innerHTML = fanb
                fancountTarget.innerHTML = fanc
                
            }).catch(err => {
                console.log(err);
            })
        }
        readCsv("../data/total/" + readfile)
        localStorage.setItem('id',lastData)
        console.log('현재 실행 중 파일은 '+readfile+'이고 아이디는 '+lastData+'입니다.')
    </script>
</body>
</html>